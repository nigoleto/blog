# Java의 int형과 2의 보수 이해하기

## Q1: int형의 최대값 이해

### 의문
  - Java나 대부분의 프로그래밍 언어에서 int형은 4바이트를 할당 받는다고 한다.
  - 그래서 1bytes는 8bit이므로 32비트를 가지게 된다고 한다.
  - 32비트라서 이진법으로 32개의 칸을 가지고 있다고 생각할 수 있다.
  - 그래서 하나의 칸은 음수, 양수를 결정하기 위해 사용되고 나머지 31칸이 정수 값에 사용된다.

  - 그렇다면 최대값이 2의 31승에서 1을 뺀 값으로 2147483647이 되는데, 왜 2의 31승인 2147483638이 아니라 47까지인지?
  - 또 왜 음수는 2147483647이 아니라 -2147483648으로 왜 1이 더 존재하는지?

<br>

### 설명
- **32비트 중 1비트는 부호 표현**을 위해 사용되어 실제로는 31비트로 숫자를 표현.
- 1비트에서는 0과 1만 존재할 수 있으니, 그냥 1비트가 0 또는 1이 들어갈 수 있는 한 칸이라고 생각해보자:
- ![2진법 이미지](https://www.google.com/url?sa=i&url=https%3A%2F%2Fvelog.io%2F%40enamu%2F%25EC%25BB%25B4%25ED%2593%25A8%25ED%2584%25B0-%25EA%25B5%25AC%25EC%25A1%25B0-%25EC%259A%25B4%25EC%2598%2581%25EC%25B2%25B4%25EC%25A0%259C-%25EA%25B3%25B5%25EB%25B6%2580-2&psig=AOvVaw2ryyplSQfqvzf0a2qZSczZ&ust=1736411072787000&source=images&cd=vfe&opi=89978449&ved=0CBQQjRxqFwoTCJjDvcrZ5YoDFQAAAAAdAAAAABAE)

<br>

    - 첫번째 칸: 0은 이진법으로도 0이니까 십진법으로 0과 1을 나타낼 때와 같다.
    - 두번째 칸: 이진법이라 2를 표현하려면 `10`이 된다. 2와 3까지 나타낼 수 있다.
    - 세번째 칸: 4를 표현할 수 있게 된다. `100` 이므로 7까지 표현가능하다.
    - 네번째 칸: 8을 표현할 수 있게 된다. `1000`-`1111` 8에서 15까지 표현가능
    - 다섯번째 칸: 2의 4승을 표현할 수 있게 된다. `10000` 여기서 부터는 제곱을 사용해서 보자.  
    - 여섯번째 칸: 2의 5승을 표현할 수 있게 된다. 칸이 여섯개가 있으면 2의 5승부터 2의 6승에서 1을 뺀 값까지 표현가능하다.
    - 그럼 n번째 칸은 2의 n-1승을 표현할 수 있게 된다.
    - n번째 칸에서는 2의 n-1승 부터 2의 n승에서 1을 뺀 값까지 표현가능 해진다.
    - 그래서 31번쨰 칸에서는 2의 30승 부터 2의 31승인 2147483648에서 1을 뺀 2147483647까지 나타낼 수 있게 된다.

- **31자리로 표현할 수 있는 최대값**:
  - 2³⁰의 이진 표현: `1000000...`(30개의 0)
  - 모든 비트가 1일 때: `111111...`(31개의 1)
  - 결과값: 2³¹ - 1 = `2147483647`

<br>

---

<br>

## Q2: 음수 표현 방식

### 질문
음수의 경우 0부터 시작하지 않아도 되는데, 제일 앞 1비트를 부호비트로 사용하니까 한개의 숫자가 더 표현가능해진 건가?
-2147483648까지 표현이 가능한 이유는?

### 설명
- 컴퓨터는 **'2의 보수(Two's complement)'** 방식을 사용.
- **8비트 예시로 설명**:
  - 양수:
    - 1 = `00000001`
    - 2 = `00000010`
    - 3 = `00000011`
  
  - 음수 (2의 보수 방식):
    - -1 = `11111111` (양수 1의 모든 비트를 뒤집고 1을 더함)
    - -2 = `11111110`
    - -3 = `11111101`
    - -128 = `10000000`

<br>

---

<br>

## 2의 보수를 사용하는 이유

1. **덧셈과 뺄셈 연산 단순화**
   - 양수와 음수를 동일한 방식으로 처리 가능.
2. **0의 표현이 유일**
   - `00000000`으로 0을 한 가지 방식으로만 표현.
3. **+1과 -1의 합이 정확히 0**
   - `00000001 + 11111111 = 00000000`

<br>

---

<br>

## Java에서의 구현

```java
int num = -1;  // 내부적으로 11111111 11111111 11111111 11111111
int max = Integer.MAX_VALUE;  // 2147483647
int min = Integer.MIN_VALUE;  // -2147483648

// 오버플로우 예시
int overflow = max + 1;   // -2147483648 (최대값을 넘어서 최소값으로)
int underflow = min - 1;  // 2147483647 (최소값을 넘어서 최대값으로)
```

<br>

---

<br>

## 정리
- int형은 4바이트(32비트)를 사용.
- 최상위 비트는 부호 비트로 사용 (0: 양수, 1: 음수).
- 나머지 31비트로 숫자의 크기 표현.
- 양수 범위: 0 ~ 2147483647 (2³¹-1).
- 음수 범위: -1 ~ -2147483648 (-2³¹).
- 대부분의 현대 프로그래밍 언어(Java, C, C++, Python 등)가 이 방식을 사용.
